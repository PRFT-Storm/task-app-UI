<!DOCTYPE html>
<html ng-app="taskApp">
<head>
    <title></title>
	<meta charset="utf-8" />

    <link href="http://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.7/angular.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.7/angular-animate.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.5.7/angular-aria.js"></script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.97.7/js/materialize.min.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/angular-materialize/0.1.9/angular-materialize.min.js"></script>

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.97.7/css/materialize.min.css" media="screen,projection">
     
    <script src="https://api.trello.com/1/client.js?key=ae7f3c6b7823b3434c09c2ba005eafc9"></script>

    <link href="app.css" type="text/css" rel="stylesheet" />
</head>
<body>
    <div class="container" ng-controller="TrelloController">
        <div class="row">
            <div class="col s12">
                <h1>Hello World Test</h1>
            </div>
            <div class="col s6">
                <a class="btn" href="#">test</a>
                <ul>
                    <li><a href="#!">Board: {{boardSelect.name}}</a></li>
                    <li><div class="divider"></div></li>
                    <li><a href="#!">list: {{listSelect.name}}</a></li>
                </ul>
                <p></p>
            </div>
            <div class="col s6">
                <div class="row">
                    <div class="input-field col s12">                        
                        <select id="board-select" ng-model="boardSelect" ng-change="boardChange()" ng-options="board.name for board in boards track by board.id" ng-init="setBoards()">
                            <option selected></option>
                        </select>
                        <label>Select a Board</label>
                    </div>
                    <div class="input-field col s12">
                        <select id="list-select" ng-model="listSelect" ng-change="listChange()" ng-options="list.name for list in lists track by list.id">
                            <option selected></option>
                        </select>
                        <label>Select a List</label>
                    </div>                    
                </div>
                <div class="row">
                    <div class="col s12">
                        <h5>Cards:</h5>
                        <ul class="lists card-list">
                            <li ng-repeat="card in cards" class="card">
                                <div class="c-content">
                                    <span class="c-title truncate" title="{{ card.name }}">{{ card.name }}</span>
                                    <p>
                                        {{ card.desc }} - {{card.cmtCount}}<i class="tiny material-icons">comment</i>
                                    </p>
                                </div>
                                <div class="card-action teal lighten-5">
                                    <a href="#" ng-click="taskAction('set',card)" class="teal-text darken-4-text"><i class="tiny material-icons">mode_edit</i> Edit </a>
                                    <a href="#" class="teal-text darken-4-text">This is a link</a>
                                </div>
                            </li>
                        </ul>
                        <!--<div class="card-box">
                            <div class="card" ng-repeat="card in cardsArr">
                                <div class="card-content">
                                    <span class="card-title truncate" title="{{ card.name }}">{{ card.name }}</span>
                                    <p>
                                        {{ card.desc }}
                                    </p>
                                </div>
                                <div class="card-action teal lighten-5">
                                    <a href="#" class="teal-text darken-4-text"><i class="tiny material-icons">mode_edit</i> Edit </a>
                                    <a href="#" class="teal-text darken-4-text">This is a link</a>
                                </div>
                            </div>
                        </div>-->
                    </div>
                </div>
            </div>            
        </div>
        <div class="row">
            <div class="col s12 m6">
                <h4>Create a task</h4>
                <input id="task_title" type="text" ng-model="task.title" />
                <textarea id="task_desc" class="materialize-textarea" ng-model="task.desc"></textarea>
                <button type="button" ng-click="startTask()" class="button buttonBlue buttonFull">
                    Start
                    <div class="ripples buttonRipples"><span class="ripplesCircle"></span></div>
                </button>
                <br/>
                <p>{{task.title}}
                <hr/>
                {{task.desc}}
                </p>
                <p>Time worked: {{runTime[0]}} hrs {{runTime[1]}} mins {{runTime[2]}} secs
                </p>
                
                <div class="row valign-wrapper">
                    <div class="input-field col s10">
                        <!--<i class="material-icons prefix medium">mode_edit</i>-->
                        <textarea id="task_comment" class="materialize-textarea" ng-model="task.comment.desc"></textarea>
                        <label for="task_comment">Comment</label>
                    </div>
                    <div class="col s2 valign">
                        <a href="#" ng-click="addComment()"><i class="material-icons small">done</i></a>
                    </div>
                </div>

                <ul id="comment-box">
                    <li class="row valign-wrapper comment-animate" ng-repeat="comment in newTask.comments">
                        <div class="col s1">
                            <a href="#" ng-click="task.comments.splice($index,1)">X</a>
                        </div>
                        <div class="col s3 smaller-text">
                            <b>{{ comment.time }}</b>
                            <br />
                            <span>{{comment.current | date:'hh:mm a'}}</span>
                        </div>
                        <div class="col s8 valign">
                            {{ comment.desc }}
                        </div>
                    </li>
                </ul>
                
                <div class="buttonGroup">
                    <button type="button" class="button buttonBlue buttonHalf" ng-click="taskAction('break')">
                        Break
                        <div class="ripples buttonRipples"><span class="ripplesCircle"></span></div>
                    </button>
                    <button type="button" class="button buttonRed buttonHalf" ng-click="taskAction('resume')">
                        resume
                        <div class="ripples buttonRipples"><span class="ripplesCircle"></span></div>
                    </button>
                    <button type="button" class="button buttonRed buttonHalf" ng-click="taskAction('done')">
                        Done
                        <div class="ripples buttonRipples"><span class="ripplesCircle"></span></div>
                    </button>
                </div>
            </div>
        </div>
    </div>   

    <script src="app.js"></script>
    <script src="TrelloController.js"></script>
    <script src="TrelloRepository.js"></script>
    <script src="Boards.js"></script>
    <script src="lists.js"></script>
    <script src="Cards.js"></script>
    <script src="Tasks.js"></script>
</body>
</html>
