<!DOCTYPE html>
<html ng-app="APP">
<head>
    <title>Test Angular App</title>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <link href="http://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.7/angular.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.7/angular-animate.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.5.7/angular-aria.js"></script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.97.7/js/materialize.min.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/angular-materialize/0.1.9/angular-materialize.min.js"></script>

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.97.7/css/materialize.min.css" media="screen,projection">
    
    <script src="app.js"></script>
    <link href="app.css" type="text/css" rel="stylesheet" />
</head>
<body ng-controller="theController">

    <div class="row">
        <div class="col s12 m3">
            <!--will hold the side navigation that manages different task selection (future version)-->
            <ul id="slide-out" class="side-nav fixed">
                <li>
                    <div class="userView">
                        <img class="background" src="images/office.jpg">
                        <a href="#!user"><img class="circle" src="images/yuna.jpg"></a>
                        <a href="#!name"><span class="white-text name">John Doe</span></a>
                        <a href="#!email"><span class="white-text email">jdandturk@gmail.com</span></a>
                    </div>
                </li>
                <li><a href="#!"><i class="material-icons">cloud</i>First Link With Icon</a></li>
                <li><a href="#!">Second Link</a></li>
                <li><div class="divider"></div></li>
                <li><a class="subheader">Subheader</a></li>
                <li><a class="waves-effect" href="#!">Third Link With Waves</a></li>
            </ul>
            <a href="#" data-activates="slide-out" class="button-collapse"><i class="material-icons">menu</i></a>

        </div> <!--sidebar-->

        <div class="col s12 m9">

            <div class="row">
                <div class="col s12 m6 offset-m3">

                    <div class="mat-box" id="state-0" ng-show="states[0]">
                        <form>
                            <h3>Task Timer App</h3>
                            <p class="subheader">testing angular with animate &amp; async data integration</p>
                            <div class="row">
                                <div class="input-field col s12">
                                    <input id="task_title" type="text" class="validate" ng-model="task.title" />
                                    <label for="task_title">Task Title</label>
                                </div>
                            </div>
                            <div class="row">
                                <div class="input-field col s12">
                                    <input class="datepicker" id="task_date">
                                    <label for="task_date">Task date selection</label>
                                </div>
                            </div>
                            <button type="button" ng-click="start()" class="button buttonBlue buttonFull">
                                Start
                                <div class="ripples buttonRipples"><span class="ripplesCircle"></span></div>
                            </button>
                        </form>
                    </div>

                    <div class="mat-box" id="state-1" ng-show="states[1]">
                        <form>
                            <h3>Task Timer Running</h3>
                            <p>{{task.title}}</p>
                            <p>Time worked: {{time[0]}} hrs {{time[1]}} mins {{time[2]}} secs</p>
                            <div class="row valign-wrapper">
                                <div class="input-field col s10">
                                    <!--<i class="material-icons prefix medium">mode_edit</i>-->
                                    <textarea id="task_comment" class="materialize-textarea" ng-model="comment"></textarea>
                                    <label for="task_comment">Comment</label>
                                </div>
                                <div class="col s2 valign">
                                    <a href="#" ng-click="commentAdd()"><i class="material-icons small click">done</i></a>
                                </div>
                            </div>
                            <ul id="comment-box">
                                <li class="row valign-wrapper comment-animate" ng-repeat="comment in task.comments">
                                    <div class="col s1">
                                        <a href="#" ng-click="task.comments.splice($index,1)">X</a>
                                    </div>
                                    <div class="col s3 smaller-text">
                                        <b>{{ comment.time }}</b>
                                        <br />
                                        <span>{{comment.current | date:'hh:mm a'}}</span>
                                    </div>
                                    <div class="col s8 valign">
                                        {{ comment.description }}
                                    </div>
                                </li>
                            </ul>
                            <div class="buttonGroup">
                                <button type="button" class="button buttonBlue buttonHalf" ng-click="taskBreak()">
                                    Break
                                    <div class="ripples buttonRipples"><span class="ripplesCircle"></span></div>
                                </button>
                                <button type="button" class="button buttonRed buttonHalf" ng-click="taskDone()">
                                    Done
                                    <div class="ripples buttonRipples"><span class="ripplesCircle"></span></div>
                                </button>
                            </div>
                        </form>
                    </div>

                    <div class="mat-box" id="state-2" ng-show="states[2]">
                        <form>
                            <h3>Task Timer Paused</h3>
                            <p>{{task.title}}</p>
                            <p>Time worked: {{time[0]}} hrs {{time[1]}} mins {{time[2]}} secs</p>
                            <ul id="comment-box">
                                <li class="row valign-wrapper" ng-repeat="comment in task.comments" watch-scope="comment">
                                    <div class="col s1">
                                        <a href="#" ng-click="task.comments.splice($index,1)"><i class="material-icons small">delete</i></a>
                                    </div>
                                    <div class="col s4">
                                        <b>{{ comment.time }}</b>
                                        <br />
                                        <span>{{comment.current | date:'hh:mm a'}}</span>
                                    </div>
                                    <div class="col s7 valign">
                                        {{ comment.description }}
                                    </div>
                                </li>
                            </ul>
                            <div class="buttonGroup">
                                <button type="button" class="button buttonBlue buttonHalf" ng-click="start()">
                                    Resume
                                    <div class="ripples buttonRipples"><span class="ripplesCircle"></span></div>
                                </button>
                                <button type="button" class="button buttonRed buttonHalf" ng-click="taskDone()">
                                    Done
                                    <div class="ripples buttonRipples"><span class="ripplesCircle"></span></div>
                                </button>
                            </div>
                        </form>
                    </div>

                    <div class="mat-box" id="state-3" ng-show="states[3]">
                        <form>
                            <h3>Task Completed</h3>
                            <p class="subheader">{{task.title}}</p>
                            <p>Time worked: {{time[0]}} hrs {{time[1]}} mins {{time[2]}} secs</p>
                            {{task}}
                            <div class="buttonGroup">
                                <button type="button" class="button buttonBlue buttonHalf" ng-click="start()">
                                    Start new task
                                    <div class="ripples buttonRipples"><span class="ripplesCircle"></span></div>
                                </button>

                            </div>
                        </form>
                    </div>
                </div>
            </div>

        </div>
    </div>

</body>
</html>
